(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();particlesJS("particles-js",{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5}},opacity:{value:.1,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0});const p={professionalism:2,pregnancy:5,tumors:5,respiratoryCirculatory:6,trauma:5,infection:5,endocrine:5,digestive:5,aging:5,neuropsychiatry:5,elective:4},x=52,s=["professionalism","pregnancy","tumors","respiratoryCirculatory","trauma","infection","endocrine","digestive","aging","neuropsychiatry","elective"],i=69.5;function u(){let e=0,a=!1;return s.forEach(n=>{const t=document.getElementById(n),o=parseFloat(t.value);if(!isNaN(o)&&o>=0&&o<=100){const r=p[n],l=o*r/x;e+=l,a=!0}}),a?Math.round(e*100)/100:0}function g(){const e=u(),a=parseFloat(document.getElementById("finalExam").value)||0,n=parseFloat(document.getElementById("pdo").value)||0,t=parseFloat(document.getElementById("mdu").value)||0,r=(e*.5+a*.25+n*.1+t*.1)*1.05;return Math.round(r*100)/100}function y(){const e=u(),a=parseFloat(document.getElementById("pdo").value)||0,n=parseFloat(document.getElementById("mdu").value)||0;if(e===0)return null;const t=e*.5+a*.1+n*.1,r=(i/1.05-t)/.25,m=Math.max(r,59.5);return Math.max(0,Math.min(100,m))}function d(){const e=u(),a=document.getElementById("blockGrade");e>0?(a.textContent=`${e}`,a.className="text-3xl font-semibold text-emerald-200"):(a.textContent="Notlar girilmemiş",a.className="text-lg font-medium text-slate-300"),f(),c(),N()}function f(){const e=g(),a=document.getElementById("generalAverage"),n=parseFloat(document.getElementById("finalExam").value)||0,t=59.5;e>0?(a.textContent=e.toFixed(2),!isNaN(n)&&n>0&&n<t?a.className="text-5xl font-bold text-red-400 mb-2":!isNaN(n)&&n>0&&e>=i&&n>=t?a.className="text-5xl font-bold text-emerald-400 mb-2":a.className="text-5xl font-bold text-transparent bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text mb-2"):(a.textContent="--",a.className="text-5xl font-bold text-transparent bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text mb-2"),c(),I()}function c(){const e=y(),a=document.getElementById("requiredFinalScore"),n=59.5,t=document.getElementById("requiredScoreTitle"),o=document.getElementById("requiredScoreValue"),r=document.getElementById("finalBarrierText");if(e===null){o.textContent="---";return}const l=document.getElementById("finalExam"),m=parseFloat(l.value);isNaN(m)||l.value===""?e<=100?(o.textContent=e.toFixed(1),t.className="text-purple-200 font-medium",o.className="text-2xl font-bold text-purple-100 mt-1"):(o.textContent=`${e.toFixed(1)} puan gerekli`,a.className="bg-red-500/20 rounded-lg p-3 border border-red-400/30",t.textContent="Uyarı: Mevcut notlarla geçmek mümkün değil",t.className="text-red-200 font-medium",o.className="text-lg font-bold text-red-100 mt-1",r.className="text-sm text-red-300 mt-1"):(o.textContent=`${e.toFixed(1)}`,t.className="text-purple-200 font-medium",o.className="text-2xl font-bold text-purple-100 mt-1",r.textContent=`Final barajı: ${n}`,r.className="text-sm text-purple-300 mt-1")}function b(e){return e>=90?{letter:"AA",coefficient:"4,00",degree:"PEKİYİ"}:e>=85?{letter:"BA",coefficient:"3,50",degree:"PEKİYİ"}:e>=80?{letter:"BB",coefficient:"3,00",degree:"İYİ"}:e>=75?{letter:"CB",coefficient:"2,50",degree:"İYİ"}:e>=70?{letter:"CC",coefficient:"2,00",degree:"ORTA"}:{letter:"FF",coefficient:"0,00",degree:"BAŞARISIZ"}}function E(){const e=g(),a=parseFloat(document.getElementById("finalExam").value)||0,n=u(),t=59.5;if(e===0||n===0)return null;if(isNaN(a)||a===0)return e>=i?{type:"info",message:"Final notu bekleniyor",detail:"Mevcut ortalama geçme notunun üzerinde"}:{type:"warning",message:"Final notu bekleniyor",detail:"Geçmek için final notu gerekli"};if(a<t)return{type:"fail",message:"Final barajından kaldı",detail:`Final notu ${t}'in altında (${a})`};if(e<i)return{type:"fail",message:"Ortalamadan dolayı kaldı",detail:`Genel ortalama ${i}'in altında (${e.toFixed(2)})`};const o=b(e);return{type:"pass",message:"Geçti",detail:`${o.letter} (${o.coefficient}) - ${o.degree}`}}function I(){const e=document.getElementById("statusInfo"),a=document.getElementById("statusText"),n=document.getElementById("gradeInfo"),t=E();if(!t){e.classList.add("hidden");return}switch(e.classList.remove("hidden"),a.textContent=t.message,n.textContent=t.detail,e.className="mt-4 p-4 rounded-lg border transition-all duration-300",t.type){case"pass":e.classList.add("bg-green-500/20","border-green-400/50"),a.className="text-lg font-semibold mb-2 text-green-200",n.className="text-sm opacity-75 text-green-300";break;case"fail":e.classList.add("bg-red-500/20","border-red-400/50"),a.className="text-lg font-semibold mb-2 text-red-200",n.className="text-sm opacity-75 text-red-300";break;case"warning":e.classList.add("bg-yellow-500/20","border-yellow-400/50"),a.className="text-lg font-semibold mb-2 text-yellow-200",n.className="text-sm opacity-75 text-yellow-300";break;case"info":e.classList.add("bg-blue-500/20","border-blue-400/50"),a.className="text-lg font-semibold mb-2 text-blue-200",n.className="text-sm opacity-75 text-blue-300";break}}function v(){s.forEach(t=>{const o=document.getElementById(t);o&&(o.value="")}),["pdo","mdu","finalExam"].forEach(t=>{const o=document.getElementById(t);o&&(o.value="")});const a=document.getElementById("requiredScoreValue");a&&(a.textContent="---");const n=document.getElementById("statusInfo");n&&n.classList.add("hidden"),gradeStorage.clear(),d()}function N(){const e={};s.forEach(n=>{const t=document.getElementById(n);t&&t.value&&(e[n]=t.value)}),["pdo","mdu","finalExam"].forEach(n=>{const t=document.getElementById(n);t&&t.value&&(e[n]=t.value)}),gradeStorage.save(e)}function h(){const e=gradeStorage.load();return e?(s.forEach(n=>{const t=document.getElementById(n);t&&e[n]&&(t.value=e[n])}),["pdo","mdu","finalExam"].forEach(n=>{const t=document.getElementById(n);t&&e[n]&&(t.value=e[n])}),!0):!1}document.addEventListener("DOMContentLoaded",function(){s.forEach(n=>{const t=document.getElementById(n);t&&(t.addEventListener("input",d),t.addEventListener("change",d))}),["pdo","mdu","finalExam"].forEach(n=>{const t=document.getElementById(n);t&&(t.addEventListener("input",function(){f(),n==="finalExam"&&c()}),t.addEventListener("change",function(){f(),n==="finalExam"&&c()}))});const a=document.getElementById("clearBtn");a&&a.addEventListener("click",v),h(),d()});
